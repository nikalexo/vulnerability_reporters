import sys
import json

files = []

for f in sys.argv[2:]:
    files.append(f)

bug2commits = dict()

for f in files:
    with open(f) as jf:
        bug2content = json.load(jf)
    for bug in bug2content.keys():
        if not bug in bug2commits.keys():
            bug2commits[bug] = [] 
        for c in bug2content[bug]:
            if not c in bug2commits[bug]:
                bug2commits[bug].append(c)

with open(sys.argv[1], "w") as jf:
    json.dump(bug2commits, jf)
