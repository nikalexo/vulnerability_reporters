import json
import os
import re

rep2info = dict()

with open('./Rep_2_Info_5/rep2info_s4.json', 'r') as fp:
    rep2info = json.load(fp)

# Load mappings from reporters to linkedin profile
rep2profiles = dict()
for file in os.listdir("./Linkedin"):
    if file.endswith(".json") and file != "rep2profiles.json":
        fp = open(os.path.join('./Linkedin',file),'r')
        try:
            profile = json.load(fp)['profile']
        except KeyError:
            print(file)
            continue
        
        rep = file[4:-5]
        if profile != "":
            rep2profiles[rep] = profile

# Save mapping into json file for further usage
with open('./Linkedin/rep2profiles.json', 'w') as fp:
    json.dump(rep2profiles, fp)