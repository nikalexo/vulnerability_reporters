# Who are Vulnerability Hunters? 

Free and Open Source Software (FOSS) development teams need to know what their vulnerability reporting community empirically looks like. Understanding the motivations, backgrounds, trends, and behaviors of vulnerability hunters from prominent FOSS projects will allow nascent open source projects to better engage with their community. The goal of this repository is to help researchers and practitioners better engage with the FOSS vulnerability reporting community by analyzing vulnerability reporting data.

## Investigated projects
- **Apache web server** (also only called apache in this repository)
- **Linux kernel** (also only called linux in this repository)
- **Mozilla suite** (including Core component, Firefox, and Thunderbird)
- **PHP**

## Requirements
- Python 3.6/3.7/3.8
- MongoDB
- [Mercurial SCM](https://www.mercurial-scm.org)

We recommend to use a [virtual environment](https://docs.python.org/3/library/venv.html) in which the Python scripts are executed.  
It can be helpful to import all needed python dependencies at the beginning:
<pre>
pip install -r requirements.txt
</pre>

## Data 
We provide a version of all data we used until end of 2020. So you do not have to run all the scripts but can only run the experiments. You need both zip files for that.
- **data_vulnerability_hunters.zip**: All data files. You have to unzip the files in the respective directory.
- **databases_vulnerability_hunters.zip**: Use **bash load_database.sh (--help)** to load the data into mongodb.

## Usage
The data fetching and processing is seperated into several steps.

### 1. Clone / Update needed repositories
We need several cloned repositories which will stored besides this project in the parent folder:
- Project repositories from github
- Mozilla's original mercurial repositories
- cve-search from github, a tool to import cves and cpes into a mongodb. See [cve-search's github page](https://github.com/cve-search/cve-search) for further information.
    - Commit [e8dd306](https://github.com/cve-search/cve-search/commit/e8dd306) guarantees the populating of the database without redis.
    - Commit [ce14811](https://github.com/cve-search/cve-search/commit/e1481108a06cb6f24014d407454234b8cba7fbf) guarantees a stable use for our project.
- [linux_kernel_cves](https://github.com/nluedtke/linux_kernel_cves) from github tracking linux kernel cves
- [Mozilla Foundation Security Advisories](https://github.com/mozilla/foundation-security-advisories) from github

**Usage:**
<pre>
bash repositories.sh &lt;option&gt;
options:
    -c : cloning repositories (only once at beginning)
    -p : pulling repositories
    -d : populating cve-search database (only once at beginning)
    -u : updating cve-search database
</pre>

### 2. Fetching bugs
We need published bugs of the projects from their bug tracking systems.  

**Usage:** See *Projects/README.md* to fetch and store bugs for the projects.

### 3. Create mappings (1)
We need mappings between projects, bugs, bug fixing commits, and cves:
- Bug_2_Commit
- Project_2_CVES
- CVE_2_Bug
- CVE_2_Commit

**Usage:**
<pre>
cd Mappings/
bash create_mappings.sh 1
</pre>

### 4. Fetching reporters
We need the reporters of cves.  
**Usage:** See *Reporters/README.md* to fetch and process cve-reporters. 

### 5. Create mappings (2)
We need mappings between bugs, bug fixing commits, cves, and cve reporters:
- Rep_2_Bugs
- Rep_2_Commit
- Rep_2_CVE

**Usage:**
<pre>
cd Mappings/
bash create_mappings.sh 2
</pre>

### 6. Run experiments
Now after all, we can run the experiments to investigate several hypothesis about vulnerability hunters.

**Usage:** See *Experiments/README.md* to run the experiments. 

### Dump / load databases
- Run **bash dump_database.sh** to dump the project database. Use **--cvedb** to dump also the cve-search database. 
- Run **bash load_database.sh** to load the project database. Use **--cvedb** to laod also the cve-search database.

## Code contributors
[Dorian Arnouts](https://github.com/d-bts)

[Nikolaos Alexopoulos](https://github.com/nikalexo)
