from pymongo import MongoClient
import xml.etree.ElementTree as ET
import time

root = ET.parse("./../../config.xml")

DB = root.find("mongodb").find("db").text
client = MongoClient()
db = client[DB]
collection = db[root.find("projects").find('.//product[@name=\'linux\']').find("collection").text]

linux_bug_2_comments = dict()
not_fetched = []
bugs = collection.find()

num_bugs = 0

with open("linux_bugs.list", "w") as f:
    for bug in bugs:
        f.write(str(bug['id']) + "\n")
        num_bugs += 1

print(num_bugs)
